{"version":3,"sources":["hero.js"],"names":["mEmitter","require","config","cc","Class","extends","Component","properties","hit_frame","SpriteFrame","_sprite","_anim_down","onLoad","getComponent","Sprite","colider","PolygonCollider","Animation","start","onCollisionEnter","other","self","node","group","play","tween","delay","call","onHeroKilled","instance","emit","event","GAME_OVER","destroy"],"mappings":";;;;;;AAAA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACA,IAAMC,SAASD,QAAQ,QAAR,CAAf;;AAEAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAWL,GAAGM,WADN;AAERC,iBAAS,IAFD;AAGRC,oBAAY;AAHJ,KAHP;AAQLC,UARK,oBAQI;AACL,aAAKF,OAAL,GAAe,KAAKG,YAAL,CAAkBV,GAAGW,MAArB,CAAf;AACA,aAAKC,OAAL,GAAe,KAAKF,YAAL,CAAkBV,GAAGa,eAArB,CAAf;AACA,aAAKL,UAAL,GAAkB,KAAKE,YAAL,CAAkBV,GAAGc,SAArB,CAAlB;AACH,KAZI;AAaLC,SAbK,mBAaG,CACP,CAdI;;AAeLC,sBAAkB,0BAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AAAA;;AACrC,YAAID,MAAME,IAAN,CAAWC,KAAX,IAAoB,OAAxB,EAAiC;AAC7B,iBAAKZ,UAAL,CAAgBa,IAAhB,CAAqB,cAArB;AACArB,eAAGsB,KAAH,CAAS,KAAKH,IAAd,EACKI,KADL,CACW,CADX,EAEKC,IAFL,CAEU,YAAM;AAAE,sBAAKC,YAAL;AAAqB,aAFvC,EAGKV,KAHL;AAIH;AACJ,KAvBI;AAwBLU,gBAxBK,0BAwBU;AACX5B,iBAAS6B,QAAT,CAAkBC,IAAlB,CAAuB5B,OAAO6B,KAAP,CAAaC,SAApC;AACA,aAAKV,IAAL,CAAUW,OAAV;AACH;AA3BI,CAAT","file":"hero.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["const mEmitter = require(\"mEmitter\");\r\nconst config = require(\"config\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        hit_frame: cc.SpriteFrame,\r\n        _sprite: null,\r\n        _anim_down: null\r\n    },\r\n    onLoad() {\r\n        this._sprite = this.getComponent(cc.Sprite)\r\n        this.colider = this.getComponent(cc.PolygonCollider)\r\n        this._anim_down = this.getComponent(cc.Animation)\r\n    },\r\n    start() {\r\n    },\r\n    onCollisionEnter: function (other, self) {\r\n        if (other.node.group == \"enemy\") {\r\n            this._anim_down.play(\"hero_destroy\")\r\n            cc.tween(this.node)\r\n                .delay(1)\r\n                .call(() => { this.onHeroKilled() })\r\n                .start()\r\n        }\r\n    },\r\n    onHeroKilled() {\r\n        mEmitter.instance.emit(config.event.GAME_OVER)\r\n        this.node.destroy();\r\n    },\r\n});\r\n"]}